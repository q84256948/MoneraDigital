<!DOCTYPE html>
<html>
  <head>
    <title>2用户可以在申购确认之前撤销申购</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/2用户可以在申购确认之前撤销申购/styles.css" type="text/css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.7.1.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
    <script src="data/document.js"></script>
    <script src="files/2用户可以在申购确认之前撤销申购/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Rectangle) -->
      <div id="u199" class="ax_default label transition notrs">
        <div id="u199_div" class=""></div>
        <div id="u199_text" class="text ">
          <p><span style="color:#000000;">一、业务逻辑：</span></p><p><span style="color:#000000;">1、对于T+1日确认申购订单的产品，允许用户在系统处理申购订单前</span><span style="color:#D9001B;">2h</span><span style="color:#000000;">撤销申购，即T+1</span></p><p><span style="color:#000000;">日10：00之前允许撤销，暂定该类产品T+1日12：00处理前一天00：00-23：59的申购订单。</span></p><p><span style="color:#000000;"><br></span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u200" class="ax_default label transition notrs">
        <div id="u200_div" class=""></div>
        <div id="u200_text" class="text ">
          <p><span>二、业务流程：</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u201" class="ax_default flow_shape transition notrs">
        <div id="u201_div" class=""></div>
        <div id="u201_text" class="text ">
          <p><span>用户撤销</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u202" class="ax_default flow_shape transition notrs">
        <div id="u202_div" class=""></div>
        <div id="u202_text" class="text ">
          <p><span>用户在T+1日10：00撤销申购</span></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u203" class="ax_default flow_shape transition notrs">
        <div id="u203_div" class=""></div>
        <div id="u203_text" class="text ">
          <p><span>撤销成功</span></p>
        </div>
      </div>

      <!-- Unnamed (Connector) -->
      <div id="u204" class="ax_default _连接">
        <img id="u204_seg0" class="img " src="images/1用户可以申购定期理财产品/u194_seg0.svg" alt="u204_seg0"/>
        <img id="u204_seg1" class="img " src="images/1用户可以申购定期理财产品/u194_seg1.svg" alt="u204_seg1"/>
        <div id="u204_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

      <!-- Unnamed (Connector) -->
      <div id="u205" class="ax_default _连接">
        <img id="u205_seg0" class="img " src="images/1用户可以申购定期理财产品/u195_seg0.svg" alt="u205_seg0"/>
        <img id="u205_seg1" class="img " src="images/1用户可以申购定期理财产品/u195_seg1.svg" alt="u205_seg1"/>
        <div id="u205_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u206" class="ax_default _文本段落 transition notrs">
        <div id="u206_div" class=""></div>
        <div id="u206_text" class="text ">
          <p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">三、每日12：00开始跑批任务：</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;"><br></span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">0、首先判断产品状态不为</span><span style="font-family:'ArialMT', 'Arial', sans-serif;">‘</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">已下架</span><span style="font-family:'ArialMT', 'Arial', sans-serif;">’</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">，否则该产品的所有</span><span style="font-family:'ArialMT', 'Arial', sans-serif;">’</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">待确认</span><span style="font-family:'ArialMT', 'Arial', sans-serif;">‘</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">订单均申购失败，状态更新为’申购失败‘。</span></p><p><span style="font-family:'ArialMT', 'Arial', sans-serif;"><br></span></p><p><span style="font-family:'ArialMT', 'Arial', sans-serif;">1</span><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">、筛选前一日00：00-23：59该产品的所有‘待确认’订单</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;"><br></span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">2、根据时间顺序排列，依次处理：</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">&nbsp; 0）首先判断订单是否合乎规则，例如用户已经不是新用户，但通过某些bug仍然提交了新用户专享产品的申购订单，那么在处理这个订单前还要判断在这个申购订单之前是否有‘待确认’‘计息中’‘赎回中’‘赎回完成’的订单，若有则申购失败。</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">&nbsp; 1）若申购数量小于产品可申购数量，则申购成功，订单状态更新为’计息中‘，产品的’可申购数量‘减少、’已申购数量‘增加；</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;">&nbsp; 2）若申购数量大于产品可申购数量，则申购失败，订单状态更新为’申购失败‘</span></p><p><span style="font-family:'PingFangSC-Regular', 'PingFang SC', sans-serif;"><br></span></p>
        </div>
      </div>
    </div>
    <script src="resources/scripts/axure/ios.js"></script>
  </body>
</html>
